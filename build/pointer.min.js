window.Modernizr=function(e,t,n){function E(e){a.cssText=e}function S(e,t){return E(c.join(e+";")+(t||""))}function x(e,t){return typeof e===t}function T(e,t){return!!~(""+e).indexOf(t)}function N(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n){if(r===false)return e[i];if(x(s,"function")){return s.bind(r||t)}return s}}return false}var r="2.5.3",i={},s=t.documentElement,o="modernizr",u=t.createElement(o),a=u.style,f,l={}.toString,c=" -webkit- -moz- -o- -ms- ".split(" "),h={},p={},d={},v=[],m=v.slice,g,y=function(e,n,r,i){var u,a,f,l=t.createElement("div"),c=t.body,h=c?c:t.createElement("body");if(parseInt(r,10)){while(r--){f=t.createElement("div");f.id=i?i[r]:o+(r+1);l.appendChild(f)}}u=["&#173;","<style>",e,"</style>"].join("");l.id=o;(c?l:h).innerHTML+=u;h.appendChild(l);if(!c){h.style.background="";s.appendChild(h)}a=n(l,e);!c?h.parentNode.removeChild(h):l.parentNode.removeChild(l);return!!a},b={}.hasOwnProperty,w;if(!x(b,"undefined")&&!x(b.call,"undefined")){w=function(e,t){return b.call(e,t)}}else{w=function(e,t){return t in e&&x(e.constructor.prototype[t],"undefined")}}if(!Function.prototype.bind){Function.prototype.bind=function(t){var n=this;if(typeof n!="function"){throw new TypeError}var r=m.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e;var o=n.apply(s,r.concat(m.call(arguments)));if(Object(o)===o){return o}return s}else{return n.apply(t,r.concat(m.call(arguments)))}};return i}}var C=function(n,r){var s=n.join(""),o=r.length;y(s,function(n,r){var s=t.styleSheets[t.styleSheets.length-1],u=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"",a=n.childNodes,f={};while(o--){f[a[o].id]=a[o]}i["touch"]="ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch||(f["touch"]&&f["touch"].offsetTop)===9},o,r)}([,["@media (",c.join("touch-enabled),("),o,")","{#touch{top:9px;position:absolute}}"].join("")],[,"touch"]);h["touch"]=function(){return i["touch"]};for(var k in h){if(w(h,k)){g=k.toLowerCase();i[g]=h[k]();v.push((i[g]?"":"no-")+g)}}E("");u=f=null;i._version=r;i._prefixes=c;i.testStyles=y;return i}(this,this.document);(function(e){function n(e,t,n){this.screenX=n.screenX||0;this.screenY=n.screenY||0;this.pageX=n.pageX||0;this.pageY=n.pageY||0;this.clientX=n.clientX||0;this.clientY=n.clientY||0;this.tiltX=n.tiltX||0;this.tiltY=n.tiltY||0;this.pressure=n.pressure||0;this.hwTimestamp=n.hwTimestamp||0;this.pointerType=t;this.identifier=e}function o(e){e.target.mouseEvent=e}function u(e){e.target.mouseEvent=null}function a(e){e.target.touchList=e.targetTouches}function f(){var e=[];if(this.touchList){for(var s=0;s<this.touchList.length;s++){var o=this.touchList[s];var u=new n(o.identifier+2,r.TOUCH,o);e.push(u)}}else{for(var a in i){if(!i.hasOwnProperty(a))continue;var u=i[a];var u=new n(a,u.textPointerType,u);e.push(u)}}if(this.mouseEvent){e.push(new n(t,r.MOUSE,this.mouseEvent))}return e}function l(e,t,n){var r=document.createEvent("Event");r.initEvent(e,true,true);for(var i in n){r[i]=n[i]}t.dispatchEvent(r)}function c(e){e.preventDefault();o(e);var t={pointerType:"mouse",getPointerList:f.bind(this),originalEvent:e};l("pointerdown",e.target,t)}function h(e){e.preventDefault();if(e.target.mouseEvent){o(e)}var t={pointerType:"mouse",getPointerList:f.bind(this),originalEvent:e};l("pointermove",e.target,t)}function p(e){e.preventDefault();u(e);var t={pointerType:"mouse",getPointerList:f.bind(this),originalEvent:e};l("pointerup",e.target,t)}function d(e){console.log("touchstart");e.preventDefault();a(e);var t={pointerType:"touch",getPointerList:f.bind(this),originalEvent:e};l("pointerdown",e.target,t)}function v(e){e.preventDefault();a(e);var t={pointerType:"touch",getPointerList:f.bind(this),originalEvent:e};l("pointermove",e.target,t)}function m(e){e.preventDefault();a(e);var t={pointerType:"touch",getPointerList:f.bind(this),originalEvent:e};l("pointerup",e.target,t)}function g(e){e.preventDefault();u(e)}function y(e){if(e.pointerType==2){e.textPointerType=r.TOUCH}else if(e.pointerType==3){e.textPointerType=r.PEN}else if(e.pointerType==4){e.textPointerType=r.MOUSE}if(e.textPointerType==r.MOUSE){s=true}i[e.pointerId]=e;var t={pointerType:e.textPointerType,getPointerList:f.bind(this),originalEvent:e};l("pointerdown",e.target,t)}function b(e){if(e.pointerType==2){e.textPointerType=r.TOUCH}else if(e.pointerType==3){e.textPointerType=r.PEN}else if(e.pointerType==4){e.textPointerType=r.MOUSE}if(e.textPointerType==r.MOUSE&&!s){return}i[e.pointerId]=e;var t={pointerType:e.textPointerType,getPointerList:f.bind(this),originalEvent:e};l("pointermove",e.target,t)}function w(e){delete i[e.pointerId];if(e.pointerType==2){e.textPointerType=r.TOUCH}else if(e.pointerType==3){e.textPointerType=r.PEN}else if(e.pointerType==4){e.textPointerType=r.MOUSE}if(e.textPointerType==r.MOUSE){s=false}var t={pointerType:e.textPointerType,getPointerList:f.bind(this),originalEvent:e};l("pointerup",e.target,t)}function E(e){if(!e.isPointerEmitter){if(T()){e.addEventListener("pointerdown",y);e.addEventListener("pointermove",b);e.addEventListener("pointerup",w)}else if(x()){e.addEventListener("MSPointerDown",y);e.addEventListener("MSPointerMove",b);e.addEventListener("MSPointerUp",w)}else{if(S()){e.addEventListener("touchstart",d);e.addEventListener("touchmove",v);e.addEventListener("touchend",m)}e.addEventListener("mousedown",c);e.addEventListener("mousemove",h);e.addEventListener("mouseup",p);e.addEventListener("mouseout",g)}e.isPointerEmitter=true}}function S(){return Modernizr.touch}function x(){return window.navigator.msPointerEnabled}function T(){return window.navigator.pointerEnabled}function N(e,t){var n=e.prototype.addEventListener;e.prototype.addEventListener=function(e,r,i){t.call(this,e,r,i);n.call(this,e,r,i)}}function C(e,t,n){if(e.indexOf("pointer")===0){E(this)}}var t=1;var r={TOUCH:"touch",MOUSE:"mouse",PEN:"pen"};var i={};var s=false;if(navigator.userAgent.match(/Firefox/)){N(HTMLDivElement,C);N(HTMLCanvasElement,C)}else{N(HTMLElement,C)}e._createCustomEvent=l;e._augmentAddEventListener=N;e.PointerTypes=r})(window);(function(e){function t(e,t,n){if(e.indexOf("gesture")===0){var r=Gesture._gestureHandlers[e];if(r){r(this)}else{console.error("Warning: no handler found for {{evt}}.".replace("{{evt}}",e))}}}if(navigator.userAgent.match(/Firefox/)){window._augmentAddEventListener(HTMLDivElement,t);window._augmentAddEventListener(HTMLCanvasElement,t)}else{window._augmentAddEventListener(HTMLElement,t)}e.Gesture=e.Gesture||{};e.Gesture._gestureHandlers=e.Gesture._gestureHandlers||{}})(window);(function(e){function r(e){this.x=e.clientX;this.y=e.clientY}function i(e){var i=e.getPointerList();if(i.length!=1)return;var s=new Date;if(s-this.lastDownTime<t&&this.lastPosition&&this.lastPosition.calculateSquaredDistance(i[0])<n*n){this.lastDownTime=0;this.lastPosition=null;var o={};window._createCustomEvent("gesturedoubletap",e.target,o)}this.lastPosition=new r(i[0]);this.lastDownTime=s}function s(e){e.addEventListener("pointerdown",i)}var t=300;var n=10;r.prototype.calculateSquaredDistance=function(e){var t=this.x-e.clientX;var n=this.y-e.clientY;return t*t+n*n};e.Gesture._gestureHandlers.gesturedoubletap=s})(window);(function(e){function r(e){this.x=e.clientX;this.y=e.clientY}function i(e){clearTimeout(this.longPressTimer);var n=e.getPointerList();if(n.length===1){e.target.longpressInitPosition=new r(n[0]);this.longPressTimer=setTimeout(function(){payload={};window._createCustomEvent("gesturelongpress",e.target,payload)},t)}}function s(e){var t=e.getPointerList();if(e.pointerType===PointerTypes.MOUSE){clearTimeout(this.longPressTimer)}else if(t.length===1){var r=e.target.longpressInitPosition;if(r&&r.calculateSquaredDistance(t[0])>n*n){clearTimeout(this.longPressTimer)}}}function o(e){clearTimeout(this.longPressTimer)}function u(e){e.addEventListener("pointerdown",i);e.addEventListener("pointermove",s);e.addEventListener("pointerup",o)}var t=600;var n=5;r.prototype.calculateSquaredDistance=function(e){var t=this.x-e.clientX;var n=this.y-e.clientY;return t*t+n*n};e.Gesture._gestureHandlers.gesturelongpress=u})(window);(function(e){function n(e,t){this.p1=e;this.p2=t}function r(e){var t=e.getPointerList();if(t.length==2){e.target.scaleReferencePair=new n(t[0],t[1])}}function i(e){var r=e.getPointerList();if(r.length==2&&e.target.scaleReferencePair){var i=new n(r[0],r[1]);try{var s=i.scaleSince(e.target.scaleReferencePair)}catch(o){alert(o)}if(Math.abs(1-s)>t){var u={scale:s,centerX:(e.target.scaleReferencePair.p1.clientX+e.target.scaleReferencePair.p2.clientX)/2,centerY:(e.target.scaleReferencePair.p1.clientY+e.target.scaleReferencePair.p2.clientY)/2};window._createCustomEvent("gesturescale",e.target,u)}}}function s(e){e.target.scaleReferencePair=null}function o(e){e.addEventListener("pointerdown",r);e.addEventListener("pointermove",i);e.addEventListener("pointerup",s)}var t=.2;n.prototype.span=function(){var e=this.p1.pageX-this.p2.pageX;var t=this.p1.pageY-this.p2.pageY;return Math.sqrt(e*e+t*t)};n.prototype.scaleSince=function(e){var t=this.span();var n=e.span();if(n==0)return 0;else return t/n};e.Gesture._gestureHandlers.gesturescale=o})(window)
